<html>

<head>
  <script type="text/javascript">
    let loaded = false;
    var head = document.getElementsByTagName('head')[0];
    var js = document.createElement("script");

    js.type = "text/javascript";
    js.src = "/preview/data.json";
    js.addEventListener("load", () => {
      loaded = true;
    })
    head.appendChild(js);

    function validate(elt) {
      var regex = /^(?:[\w]\:|\\)(\\[a-z\-]+)+\.tex$/;
      if (elt.value.match(regex)) {
        return true;
      } else {
        alert("Must upload a .tex file with name having only lowercase letters");
        elt.value = "";
        return false;
      }
    }
    window.onload = function() {
      if (!loaded) {
        var head = document.getElementsByTagName('head')[0];
        var js = document.createElement("script");

        js.type = "text/javascript";
        js.src = "/data.json";
        head.appendChild(js);
      }
    }
  </script>
</head>

<body>
  <h1>Reduction Submission</h1>
  <form action="/submit/type/reduc/" method="post" enctype="multipart/form-data">
    <p> Please upload your .tex file following the template found <a href="/reductemplate.tex">here</a>.</p>
    <input type="file" name="uploadedfile" onchange="validate(this)"><br>

    Upper Relation Label<br>
    <input type="text" name="upper"><br>
    Lower Relation Label<br>
    <input type="text" name="lower"><br>

    Upper Equivalence Relation<br>
    <select id="upperselect">

    </select>

    What type of reduction?<br>
    <input type="radio" name="type" value="strict"> Strict<br>
    <input type="radio" name="type" value="bireduction"> Bireduction<br>
    <input type="radio" name="type" value="neither"> Neither<br>

    Check if this is between countable equivalence relations:<br>
    <input type="checkbox" name="countable" value="countable"> Countable<br>

    <input type="submit">
  </form>
</body>

</html>